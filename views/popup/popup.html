<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="../../common/common.css">
    <link rel="stylesheet" href="popup.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700" rel="stylesheet">
    <script src="../../vendor/vue/vue.js"></script>
    <script src="../../vendor/moment/moment.js"></script>
  </head>
  <body>
    <main id="app" class="popup-container">
      <section v-if="loading">
        Loading
      </section>
      <section v-else class="popup-goal-counter">
        <section v-if="state.goal && state.goal.description && state.goal.lastResetDate"
                 class="flex column center">
          <h1>Mission Control</h1>
          <p class="popup-days-since-reset-number">{{ state.goal.daysSinceReset }}</p>
          <p class="popup-days-since">days since</p>
          <p class="popup-last-reset">last reset</p>
          <button v-on:click="handleResetClick"
                  class="btn secondary">
            Reset
          </button>
        </section>
        <section v-else-if="!state.goal || (!state.goal.description && !state.goal.lastResetDate)">
          <p>Looks like you don't currently have a goal!</p>
          <a target="_blank" href="../../views/options/options.html">Set a Goal</a>
        </section>
      </section>
    </main>
  </body>
  <script type="module" src="popup.js"></script>
</html>
